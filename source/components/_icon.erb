<%#
    A simple partial for inserting SVG sprites.


    -> "presentation" designates it as simply decoration (and should be ignored by screenreaders)
    -> while "img" says it should have its own description. In the latter case, the title attribute acts like an alt tag.

    Locals:
    STRING id: the ID of the sprite you want
    STRING classes (optional): additional modifier classes, if needed.
    STRING role (optional): ARIA role. use either 'img' (default) or 'presentation'.
    STRING fallback (optional): the kind of fallback you'd like - ".png" or a string. It expects the fallback image to have the same name as the icon.

    Styles:
    components/icon
%>

<%
    classes ||= false
    size ||= false
    margin ||= "none"
    title ||= false
    role ||= "img"
    fallback ||= ".png"
%>
<svg class="icon<%= " icon--#{size}" if size %><%= " icon--margin-#{margin}" unless margin == "none" %><%= " #{classes}" if classes %>"<%= " title='#{title}'" if title %> role="<%= role %>">
    <use xlink:href="#icon-<%= id %>"></use>
    <% if fallback == ".png" %>
        <image src="<%= asset_url("icon-" + id + fallback) %>" xlink:href="" />
    <% else %>
        <% unless role == "presentation" %>
            <desc><%= fallback %></desc>
        <% end %>
    <% end %>
</svg>
