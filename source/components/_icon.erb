<%
  # Icon
  # -> A simple partial for inserting SVG sprites.
  # -> "presentation" designates it as simply decoration (and should be ignored by screenreaders)
  # -> while "img" says it should have its own description. In the latter case, the title attribute acts like an alt tag.

  # Locals:
  # STRING id: the ID of the sprite you want
  classes ||= false # STRING: additional modifier classes, if needed.
  size ||= false # STRING: how big it is
  margin ||= "none" # STRING: how much margin around it
  title ||= false # STRING: title attribute
  role ||= "img" # STRING: ARIA role. use either 'img' (default) or 'presentation'.
  fallback ||= ".png" # STRING: the kind of fallback you'd like - ".png" or a string. It expects the fallback image to have the same name as the icon.
%>

<svg data-ui-icon="<%= "#{size}" if size %><%= "margin-#{margin}" unless margin == "none" %> class="<%= " #{classes}" if classes %>"<%= " title='#{title}'" if title %> role="<%= role %>">
  <!-- This excellent icon is from iconmonstr.com -->
  <use xlink:href="#icon-<%= id %>"></use>
  <% if fallback == ".png" %>
    <image src="<%= asset_url("icon-" + id + fallback) %>" xlink:href="" />
  <% else %>
    <% unless role == "presentation" %>
      <desc><%= fallback %></desc>
    <% end %>
  <% end %>
</svg>
