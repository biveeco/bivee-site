<%
  # Button link
  # -> an anchor tag styled like a button

  # Locals:
  # STRING url (required): the address or anchor the button points to
  classes ||= '' # STRING (optional): any other classes you'd like to pass in
  icon ||= false # STRING (optional): include an icon? if so, pass in the icon id
  icon_position ||= 'right' # STRING (optional): which side should the icon be on?
  label ||= '' # STRING (optional): the button's label, e.g. "Read more"
  size ||= 'default' # STRING (optional): the button's size

  # Private vars
  props = [
    (size unless size == 'default'),
    ("icon #{icon_position}" if icon)
  ]
%>

<% link_to url, data: { 'ui-button': props.empty? ? '' : props.join(' ') }, class: classes do %>
  <%= component("icon", locals: { id: icon, parent: 'data-ui-button-icon' }) if icon && icon_position == 'left' %>
  <%= label %>
  <%= component("icon", locals: { id: icon, parent: 'data-ui-button-icon' }) if icon && icon_position == 'right' %>
<% end %>
