<%
  # Staff list
  # -> A grid of staff listings

  # Locals:
  # ARRAY projects: the projects to display
  classes ||= false # STRING (optional): additional modifier classes, if needed
  exclude ||= false # STRING (optional): the slug of the project you don't want to show
    # -> useful for local navs where you don't want to show the current project
  gutter ||= 'medium' # STRING (optional): width of the gutter between thumbnails
%>

<ul data-ui-gallery="large no-gutter"<%= " class='#{classes}'" if classes %>>
  <% projects.each_with_index do |project, index| %>
    <% unless project.slug == exclude || project.title.short == exclude %>
      <li data-ui-gallery-item>
        <% link_to "/work/#{project.slug.urlize}/", class: "display-flex-fill display-block t-decoration-none t-align-center" do %>
          <figure
            data-ui-aspect="1x1"
            class="position-relative c-theme-dark"
          >
            <div data-ui-aspect-content>
              <%= component "responsive_image", locals: {
                source: project.cover.thumb.source,
                sizes: project.cover.thumb.sizes || [],
                alt: project.title.short,
                data: { "ui-aspect-image": "scale-cover"}
              } %>
              <figcaption class="padding position-absolute position-left position-bottom">
                <h3 class="t-scale-delta"><%= project.title.short %></h3>
              </figcaption>
            </div>
          </figure>
        <% end %>
      </li>
    <% end %>
  <% end %>
</ul>
